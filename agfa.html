<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Ticket Booking System</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .selected {
            background-color: green;
        }
    </style>
</head>

<body class="bg-gray-100 p-4">
    <h1 class="text-2xl font-bold mb-4">Bus Ticket Booking System</h1>
    <div class="max-w-lg mx-auto">
        <div id="seats" class="grid grid-cols-4 gap-4">
            <button class="seat-btn rounded-lg py-2 bg-slate-100">A1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">A2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">A3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">A4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">B1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">B2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">B3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">B4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">C1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">C2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">C3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">C4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">D1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">D2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">D3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">D4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">E1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">E2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">E3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">E4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">F1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">F2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">F3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">F4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">G1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">G2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">G3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">G4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">H1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">H2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">H3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">H4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">I1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">I2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">I3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">I4</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">J1</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">J2</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">J3</button>
            <button class="seat-btn rounded-lg py-2 bg-slate-100">J4</button>
        </div>
        <div class="mt-4">
            <button id="bookBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Book Tickets</button>
        </div>
        <!-- Table to display selected seats and prices -->
        <div class="mt-4">
            <table class="w-full border-collapse border border-gray-300">
                <thead>
                    <tr>
                        <th class="border border-gray-300 px-4 py-2">Seat</th>
                        <th class="border border-gray-300 px-4 py-2">Price</th>
                    </tr>
                </thead>
                <tbody id="selectedSeatsTableBody"></tbody>
                <tfoot>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2 font-bold">Total</td>
                        <td id="totalPrice" class="border border-gray-300 px-4 py-2 font-bold"></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <script>
        // Function to handle seat selection
        function handleSeatSelection(event) {
            const seat = event.target;
            if (seat.classList.contains('selected')) {
                seat.classList.remove('selected');
            } else if (document.querySelectorAll('.selected').length < 4 && seat.tagName === 'BUTTON') {
                seat.classList.add('selected');
            }

            updateSelectedSeatsTable();
            updateTotalPrice();
        }

        // Function to update selected seats table
        function updateSelectedSeatsTable() {
            const selectedSeats = document.querySelectorAll('.selected');
            const selectedSeatsTableBody = document.getElementById('selectedSeatsTableBody');
            selectedSeatsTableBody.innerHTML = ''; // Clear previous entries

            selectedSeats.forEach(seat => {
                const seatName = seat.textContent;
                const seatPrice = 550; // Per seat price is 550
                const row = document.createElement('tr');
                const seatCell = document.createElement('td');
                seatCell.textContent = seatName;
                row.appendChild(seatCell);
                const priceCell = document.createElement('td');
                priceCell.textContent = seatPrice;
                row.appendChild(priceCell);
                selectedSeatsTableBody.appendChild(row);
            });
        }

        // Function to update total price
        function updateTotalPrice() {
            const selectedSeatsCount = document.querySelectorAll('.selected').length;
            const totalPrice = selectedSeatsCount * 550; // Per seat price is 550
            document.getElementById('totalPrice').textContent = totalPrice;
        }

        // Function to handle booking tickets
        function bookTickets() {
            const selectedSeats = document.querySelectorAll('.selected');
            if (selectedSeats.length === 0) {
                alert('Please select at least one seat.');
            } else if (selectedSeats.length > 4) {
                alert('You cannot book more than 4 seats at once.');
            } else {
                const seatNames = Array.from(selectedSeats).map(seat => seat.textContent);
                alert('Selected seats: ' + seatNames.join(', '));
                
            }
        }

        // Event listeners
        document.getElementById('seats').addEventListener('click', handleSeatSelection);
        document.getElementById('bookBtn').addEventListener('click', bookTickets);
    </script>
</body>

</html>